### 核心理念

**代码质量很重要，它不仅依赖于架构和项目管管理，还和其整洁度成正比，即干净的代码在质量上更加可靠，也为后期维护升级奠定了良好的基础。**

为什么会这么说呢，不管是老式的项目开发理论还是新式的项目开发理念，在项目越来越庞大的时候，实际上，维护一个项目是更加重要的。一个大型项目，上线运行后，不管是新增新的各种需求，还是维持稳定运行，都需要人来维护，既然需要人来维护，那么就会面临一个非常大问题，那就是沟通。一个高质量的代码，应该当可以来维护的人都可以正常的进行阅读和维护，并尽可能的减少沟通中的成本，在这种情况下，一个干净的代码无疑是非常重要的。

### 总结的核心思路

1. 简单直接的代码，1是1,2是2，不应该引起人的猜测。
2. 良好的可读性
3. 尽量短小的代码
4. 测试驱动的开发
5. 减少重复
6. 优化代码，避免越改越烂
7. 让每次代码修改都比以前更好
8. 让IDE物尽其用

其中，第七点的思路，我觉得是很重要的，因为不管你如何想要在一开始就做好全部，这都是很难的。因为从来不存在一开始就完美的系统，在开发的过程中，总是会包含着重构，优化，增量，因此如果能够让每次代码修改都比之前能够有一些优化，才是一个长远的过程

第八点也是很有意思的看法，也是很合理的看法，在IDE越来越完善的现在，确实可以通过IDE来辅助改善代码的整体结构

### 具体分析

#### 命名

命名是需要是有意义的，并且也是非常重要的。概括一下就是

1. 名副其实，避免误导，避免双关语
2. 读的出来，好搜索，使用合适的字符
3. 不要添加没用的信息

前两者大家都很熟悉，不过作者提到了一点我觉得也很不错，就是减少 l 1这种看起来就不好区分的字符。我觉得很对。关于第三点，不要添加没用的信息中，提到了一点关于前缀的说法，我还是比较统一的。前缀有时候是必须的，因为它是有意义的。但是很多时候，前缀不一定的是必须的，只可能是冗余信息，因为看久了可能就直接忽略了

#### 函数

函数的几个要点

1. 函数命名需要是合理的
2. 函数应该尽可能短小，如果功能需要的代码数量太长怎么办？拆成几个函数！
3. 函数应该只做一件事
4. 函数的参数也应该尽可能的少
5. 没有副作用
6. 减少返回错误码的行为，不如直接抛出个错误

基本上，和函数式编程的思路相当

#### 注释

注释需要明确一个要点，即注释不是用来美化糟糕的代码的。

以及一个总体思路，如果能不用注释就能够好懂，那确实不用注释是最好的。

好的注释应该是传达代码传达不了的信息的，一些意图的解释，一些警告避免后来者踩坑，一些不好理解的信息等等。有的时候，你需要用注释来解释干什么的时候，可以考虑能否通过方法命名解决呢？

坏的注释总结起来就是，信息冗余，不管是废话过多，还是一个注释讲了太多事情，亦或者是误导，都是信息冗余的表现。

另外，注释掉的代码，还是直接删掉比较好，要恢复，那就多多依赖版本控制工具吧

#### 格式

代码格式，没有什么好说的，统一IDE，统一风格，以及通过IDE辅助基本可以达成需求。唯一需要注意的就是，这是一个团队向的事情，需要团队一起统一和执行

#### 对象和数据结构

思路：

对象暴露行为，隐藏数据，数据结构暴露数据，而没有明显的行为。但是总体来说，还是需要结合具体需求来做

#### 错误处理

错误处理，有一点，即使用异常而非返回码。主要的思路在于，异常的话，一看就是异常，而异常码则是不一定能够马上反应过来的

书中建议不要传递null，以及返回null，我这里感觉还是得看具体需求

#### 边界

文中的边界指的是使用第三方的代码，不过主要的阐述要点还是在如何的学习使用它，提到了一点，学习性测试。即通过各种情况的 测试，来了解这个库的作用。这的确是非常有用的。我个人对这个地方的一个想法则是，最好能够将第三方代码的作用，作为一个黑盒子，使用方对代码进行包装，然后双方共同确定好一系列接口的一致性，即尽量减少因为版本更新导致的修改

#### 单元测试

单元测试是测试驱动开发的一个核心。单元测试也有几个要点

1. 快速，测试应该快速运行
2. 独立，测试应该独立，不应该相互依赖
3. 可重复，即所有测试应该都是在各种环境中重复通过
4. 明确的布尔值输出
5. 及时，即不要滞后

单元测试同样也是一部分代码，因此，单元测试也应该遵循之前的代码设计的思路，即保持代码的整洁。同时单元测试也应该是单一职责原则，即一个测试只测试一个东西。

#### 类

类也应该是短小的，和函数一样，如何做区分呢？类的区分应该以职责来进行分析。SRP即单一权责原则是分析类的一个重要工具。我们需要做的事情就是保持类的高内聚性。书中提到的思路为，类应该只有少量的实体变量，而类中的每个方法都应该操作一个或者多个这种变量，当每个变量都被每个方法所使用的时候，这个类就达到了最高的内聚



#### 系统

系统也应该是整洁的，在所有的抽象层级上，意图都应该是清晰可辨的。同时，在设计时，也应该使用可工作的最简单的方案

系统的设计有一个点，即在系统层级上保持整洁。这里通常就需要一些设计模式的参考，例如，系统的构造和使用应该是分开的，而分开的时候，我们就需要工厂模式，依赖注入等设计模式，来完成我们这个目标

