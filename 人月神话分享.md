人月神话是一本关于软件工程的巨著，虽然是40多年前的书。可能其中有些观念已经过于陈旧或者过时，但整体来说，本书的主线---人月神话依然属于有效的基础理论，整体思想思想还是非常有前瞻性的。

### 一、软件工程的问题和困境

#### 1. 焦油坑

> 上帝见证着恐龙、猛犸象、剑齿虎在焦油中挣扎。他们挣扎得越猛烈，焦油纠缠得就越紧，没有哪种猛兽足够强壮或具有足够的技巧，能够挣脱束缚，它们最后都沉到了坑底 

焦油坑是作者用来形容大型系统开发的一个概念。史前时代，恐龙、猛犸象、剑齿虎这些大型食肉动物碰到焦油坑也是没有办法挣脱的，而且越用力就越容易被沉入坑底。这种场景就像极了大型系统开发的工作和团队，他们中大多数开发出了可运行的系统--不过，其中只有非常少数的项目满足了目标、时间进度和预算的要求。

基本上一个大型编程系统产品的开发成本会是单个简单程序的9倍。这里的编程系统产品是指的由很多编程程序以及系统组合而成的可交互、协作的程序集合，真正的大型编程系统产品并不是简单程序的简单堆叠。这也就是所谓的“焦油坑”。

#### 2. 人月神话

对于大型软件项目来说，如何能够按时并且保质保量的交付本身就是一个难题。而缺乏合理的时间进度是造成项目滞后的最主要原因，它比其他所有因素加起来的影响还大。导致这种普遍性灾难的原因是什么呢？根据书中的说法原因如下

1. 我们对估算技术缺乏有效的研究。作者在这里提出了一个有趣的说法：**所有的编程人员都是乐观主义者："一切都将运作良好"。**这也是导致估算失准的原因
2. 我们采用的估算技术隐含地假设人和月可以互换，错误地将进度与工作量相互混淆。
3. 由于对自己的估算缺乏信心，软件经理通常不会有耐心持续地进行估算这项工作。
4. 对进度缺少跟踪和监督。其他工程领域中，经过验证的跟踪技术和常规监督程 序，在软件工程中常常被认为是无谓的举动。
5. 当意识到进度的偏移时，下意识（以及传统）的反应是增加人力。这就像使用汽油灭火一样，只会使事情更糟。越来越大的火势需要更多的汽油，从而进入了一场注定会 导致灾难的循环。  

这就引出了本书的一大主线内容，也就是人月神话（Mythical Man Month），而它的含义是——**不能简单的用人月估算项目，人力和时间不能等价替换。**

时至今日



### 二、核心思路

作者从很多方面进行切入，希望能够解决这个问题。总结下来，作者有两个核心观点：**概念完整性和架构师**（原文翻译为结构师，着实看起来很奇怪）

**概念完整性。**一个整洁、优雅的编程产品必须向它的每个用户提供一个条理分明的概念模型，这个模型描述了应用、实现应用的方法以及用来指明操作和各种参数的用户界面使用策略，。用户所感受到的产品概念完整性是易用性中最重要的因素。

**架构师**。架构师的职责是负责保证产品所有方面的概念完整性的，架构师设计的是能够让用户理解产品概念的模型，这包括所有的功能的详细说明以及调用和控制的方法。它就像电影的导演一样。

**体系结构的递归**。对于大型系统，即使所有实现方面的内容都被分离出去，一个人也无法完成所有的体系结构工作。所以，有必要由一位主架构师把系统分解成子系统，系统边界应该划分在使子系统间接口最小化和最容易严格定义的地方。每个部分拥有自己的架构师，他必须就体系结构向主架构师汇报。显然，这个过程可以根据需要重复递归地进行。

### 三、具体的实施建议

#### 1. 外科手术队伍

作者提出的外科手术队伍的组成如下

**外科医生** 即首席程序员。决策一切并实际动手编程 。

**副手** 作为后备，了解一切并思考和建议。

**编辑** 各种文档的编写和管理 。

**两个秘书** 两个文秘配合管理员和编辑共同工作。

**程序职员** 负责发布和成果物的管理。

**工具维护人员** 维护和管理工具。

**测试人员** 测试和测试用例编写。

**语言专家** 技术顾问。

这个团队的构建就比较有意思了。对于真正意义上的大型系统，小型精干的队伍太慢了。但是如果采用一拥而上的开发方法是高成本、速度缓慢、不充分的，开发出的产品无法进行概念上的集成。

从这个团队组成思想可以看出，想要提高团队的生产效率，应该从以下几个方面配置团队：由尽量少的人来设计决策思考概念的完整性并负责实现，以此减少不必要的交流成本；将其他可拆分的辅助工作都拆分到专人负责，避免核心程序员在不同工作之间切换思维；

#### 2. 贯彻执行

如何保证在实际开发中的执行力呢？作者给出了几个建议：

1. 文档化的规格说明——此处的文档，不仅仅是功能文档，还有用于程序沟通中的文档。用于保证对看似琐碎问题处理原则上的一致性
2. 例会。在每周例会上程序员以书面形式提出现有问题和修改意见，大家进行充分讨论达成共识。之后对进行的修改做出决策形成新的规范及文档手册。
3. 沟通&日志。无论文档写的多么详细都会出现理解不清或者误解等情况，出现这种情况后应及时电话/会议沟通，并将问题和结论形成日志合并到规范或执行手册。
4. QA。独立的QA部门将在真实环境中测试运行，使得任何缺陷都无处遁形。

#### 3. 系统设计的思路

##### 贵族专制、民主政治和系统设计

作者主张在系统设计中，概念完整性应该是最重要的考虑因素。也就是说，为了反映一系列连贯的设计思路，宁可省略一些不规则的特性和改进，也不提倡独立和无法整合的系统，哪怕它们其实包含着许多很好的设计。

因此为了获得概念完整性，设计必须由一个人或者具有共识的小型团队来完成。这实际上是一种无需任何歉意的贵族专制统治。但是从另外一个角度来说，架构师负责的是整体概念的设计，但是具体实现则是由开发人员完成。因此作者也提出了对架构师的一些观点

1. 牢记是开发人员承担创造性的实现责任；架构师只能提出建议。

2. 时刻准备着为所指定的说明建议一种实现的方法，准备接受任何其他可行的方法。

3. 对上述的建议保持低调和平静。

4. 准备对所建议的改进放弃坚持。

5. 听取开发人员在体系结构上改进的建议。

#### 4.沟通交流

##### 为什么巴比伦塔会失败？

沟通是合作的必要条件。大型软件项目中也面临这样的情况，因为左手不知道右手在做什么，所以进度灾难、不合理的功能实现、系统缺陷纷纷出现。随着工作的不断进行，许多小组开始慢慢地修改自己程序的功能、规模和速度，当他们组合在一起时，新的程序就显得与原定目标渐行渐远。

团队之间如何有效的沟通呢？通常有三种途径：

1. 电话、交谈等非正式沟通：这些途径非常方便、有效，并且随时发生在日常生活中
2. 会议沟通：虽然谈到会议总是有些恼人，但会议是最正式的明确需求的途径。如果小组氛围足够和谐，会议沟通将非常有用
3. 工作手册：在项目开始时，就应提纲挈领，准备好项目工作手册。指派专门的人手来维护工作手册，保证它们可以随着项目实时更新。工作手册应保持树状的索引结构，工作人员可以很方便的使用索引来检索他所需要的信息。



#### 4.进度的管理

> "项目是怎样延迟了整整一年的时间？.一次一天。"
>
> “一天一天的进度落后比起重大灾难，更难以识别、更不容易防范和更加难以弥补”

项目开发的日程上非常重要的一个事件被称为“里程碑”。里程碑的选择只有一个原则，那就是，里程碑必须是具体的、特定的、可度量的事件，能够进行清晰定义。例如："架构师和实现人员签字认可的规格说明"，"测试通过了所有的测试用例"等。

慢性进度偏离是士气杀手。Microsoft的Jim McCarthy说："如果你错过了一个最终期限（deadline），确保制定和完成下一条(deadline)。

如果在某项活动开始之前就着手估计，并且每两周进行一次仔细的修订，根据实际情况动态调整时间。当里程碑没有正确反映损失的时间，并对人们形成误导，以致事态无法挽回的时候，它会彻底碾碎小组的士气。

**保持进度透明可见**是一个非常好的办法



#### 5.未雨绸缪

> "所有修改都倾向于破坏系统的架构，增加了系统的混乱程度。即使是最熟练的软件维护工作，也只是放缓了系统退化到不可修复混乱的进程"
>
> "缺陷修复总会以（20－50）%的机率引入新的bug。"
>
> "前进两步，后退一步--程序维护"

软件工程的复杂性注定了它唯一不变的就是变化本身。这对于程序员来说可能是一个十分不幸的消息：系统必然会面对各种变化，你开发的软件必然会在修修补补中变得面目全非，最初的设计必须在各种妥协中打上各种丑陋的补丁。无论是多么良好设计的系统，都会走向混乱，区别只是这个过程的快慢而已。无论是出自自身的前期试验性功能开发到后期的批量生产，还是为了迎合市场而导致的需求变更，这都将无可避免的导致功能开发的不断变化和调整。事先为这些变化做好准备总比假设他们不会出现变化要好的多。

程序向用户所呈现的面貌（界面、文档、注释）与提供给机器识别的内容（代码）同样重要。不管是独立程序还是系统软件，都应该编写注释，因为人会遗忘的。注释需要描述事情如何，还应描述为什么，注释信息应该以段落的方式向程序中插入必要的记述性文字，同时可以借助源代码的固定格式来附件更多的文档信息并提升可读性。 

因此，程序员应该非常清楚的知道，软件开发是减少混乱程度的过程(熵减)，任何时候你的功能系统都只是出于一个亚健康的状态，功能的迭代和调整无疑是提高混乱度的过程(熵增)。因此在开发一个功能的前期应尽量将系统设计的易扩展易修改，并及时更新文档，**当代码的混乱程度达到临界值时果断重构。**



### 四、书中一些有意思的概念和思考

#### 1.开发人员交付的是用户满意程度，而不仅仅是实际的产品

> " 开发人员交付的是用户满意程度，而不仅仅是实际的产品。"

这个观点我觉得十分有意思。也非常合理。毕竟，软件开发出来是给人用的。

#### 2. 焦油坑

>史前史中，没有别的场景比巨兽在焦油坑中垂死挣扎的场面更令人震撼。上帝见证着恐龙、猛犸象、剑齿虎在焦油中挣扎。它们挣扎得越是猛烈，焦油纠缠得越紧，没有任何猛兽足够强壮或具有足够的技巧，能够挣脱束缚，它们最后都沉到了坑底。

从开发者角度，焦油坑在实现过程中，就是常说的“屎山”堆积的过程。维护工作则是一个清理焦油，使其不要完全的沉没下去的过程。

#### 3. 第二个系统通常是最危险的

> 在设计第一个项目时，他会面对不断产生的装饰和润色功能。这些功能都被搁置在一边，作为"下一个"项目的内容。第一个项目迟早会结束，而此时的结构师，对这类系统充满了十足的信心，熟练掌握了相应的知识，并且时刻准备开发第二个系统。 第二个系统是设计师们所设计的最危险的系统。而当他着手第三个或第四个系统时，先前的经验会相互验证，得到此类系统通用特性的判断，而且系统之间的差异会帮助他识别出经验中不够通用的部分

感觉这个说的还挺对的，就用软件来看，很多软件最开始的功能都是核心功能，但是后面会加一堆莫名其妙有的没的，最后有用的功能还是核心功能。

#### 4.向进度落后的项目中增加人手，只会使进度更加落后。

> 向进度落后的项目中增加人手，只会使进度更加落后

这个观点比较有意思。我的看法是，这里的核心在于不同项目，任何一个人到了一个新项目，总是有熟悉的过程，因此盲目的添加人手可能会导致进度落后。但是由于人和人的差异性是很大的，添加某些领域的专家可能确实可以提高进度。

#### 5.保持设计的概念完整

> 一个整洁、优雅的编程产品必须向它的每位用户提供一个条理分明的概念模型，这个模型描述了应用，实现应用的方法以及用来指明操作和各种参数的用户界面使用策略。概念的完整性是易用性中最重要的因素。

这里的概念完整性其实应该说的是这个软件理念上的业务流程的前后连贯，也就是用户在使用产品的过程中，能够按照唯一的一个的最高抽象的思路来使用这整个系统。从产品设计的角度，为了尽量保持这种概念一致性，设计产品时要清楚自己的核心在哪。

#### 6.经验的传承

> Thomas J. Watson讲述了他年轻时在纽约北部，刚开始做收银机推销员的经历。他带着一马车的收银机，满怀热情地动身了。他工作得非常勤奋，但是连一台收银机也没有卖出去。他很沮丧地向经理汇报了情况，销售经理听了一会儿，说道："帮我抬一些机器到马车上，收紧缰绳，出发！"他们成功了。在接下来的客户拜访过程中，经理身体力行地演示了如何出售收银机。事实证明，这个方法是可行的。

新手程序员和资深程序员的最大区别，在于绕坑技巧。大量的经验和技能可以通过观察和模仿身边的高级/资深工程师获得。各种资料和课程可能也能得到这部分的技能，但是鉴于每个工作环境的不一致性，很多东西还是通过学习实际工作中的人的经验获得。

#### 7. 没有银弹

> 没有任何技术或管理上的进展，能够独立地许诺十年内使生产率、可靠性或简洁性获得数量级上的进步。因为软件有无法规避的特性：复杂度、一致性、可变性、不可见性。

软件复杂度这样的根本性困难会一直存在。因为随着软件工具能力不断的提升，软件开发中需要面对的复杂度其实也是在不断提升的。所以，我们在软件生产效率上的提升需要的是逐步的进步，而不是期待一个一蹴而就的突破。

#### 结语

总体来说，书中的很多内容经过一段时间工作，或多或少都能够有所了解，本书则是比较系统的进行了一个梳理和总结，并且具有相当的前瞻性，还是非常值得一读的。
